{"ast":null,"code":"var _jsxFileName = \"/Volumes/System/SDI-8#/REACT/react_pool_checkpoint/src/App.js\";\nimport React, { useEffect, useReducer, useState } from 'react';\nimport ProductList from './ProductList';\n\nfunction App() {\n  useEffect(() => {\n    fetch('http://52.26.193.201:3000/products/list').then(data => data.json()).then(data => sendCommand({\n      command: 'initProduct',\n      value: data\n    }));\n  }, []);\n\n  function init(cmValue) {\n    return {\n      productList: cmValue.value,\n      clickedItem: {}\n    };\n  }\n\n  const [state, sendCommand] = useReducer((prod, toggle) => {\n    let product = { ...prod\n    };\n\n    switch (toggle.command) {\n      case 'initProduct':\n        {\n          //todos=product.todos.filter((ele,idx)=>idx!==toggle.value);\n          product.productList = [...toggle.value];\n          return product;\n        }\n\n      case 'getDetails':\n        {\n          if (product.clickedItem.name.length) {\n            product.todos.push({ ...product.clickedItem\n            });\n          }\n\n          product.clickedItem.name = '';\n          return product;\n        }\n\n      case 'viewImage':\n        {\n          let cItem = { ...toggle.value\n          };\n          product.clickedItem = cItem;\n          return product;\n        }\n\n      default:\n        {\n          throw Error('no command');\n        }\n    }\n  }, {\n    command: 'initProduct',\n    value: []\n  }, init);\n\n  function handleGetDetails(event) {\n    // let value={name:event.target.value};\n    //    // sendCommand set current value   \n    //    sendCommand({command:'getDetails',value:value});\n    console(\"clickyyyyy\");\n  }\n\n  function handleRemoveDetails(event) {// let value=parseInt(event.target.value);\n    //    sendCommand({command:'removeItem',value:value});\n    //   //sendCommand() remove item\n  }\n\n  function handleGetImage(event) {//  //dispatch() add item\n    //  let value=event.target.name.value;\n    //  sendCommand({command:'viewImage',value:{name:value}});\n    // event.preventDefault();\n    // event.target.name.value='';\n  }\n\n  console.log(state);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ProductList, {\n    items: state.productList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Volumes/System/SDI-8#/REACT/react_pool_checkpoint/src/App.js"],"names":["React","useEffect","useReducer","useState","ProductList","App","fetch","then","data","json","sendCommand","command","value","init","cmValue","productList","clickedItem","state","prod","toggle","product","name","length","todos","push","cItem","Error","handleGetDetails","event","console","handleRemoveDetails","handleGetImage","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAGA,SAAUC,GAAV,GAAe;AAEfJ,EAAAA,SAAS,CAAC,MAAI;AACXK,IAAAA,KAAK,CAAC,yCAAD,CAAL,CACCC,IADD,CACMC,IAAI,IAAEA,IAAI,CAACC,IAAL,EADZ,EACyBF,IADzB,CAC8BC,IAAI,IAAEE,WAAW,CAAC;AAACC,MAAAA,OAAO,EAAC,aAAT;AAAuBC,MAAAA,KAAK,EAACJ;AAA7B,KAAD,CAD/C;AAEF,GAHQ,EAGP,EAHO,CAAT;;AAKC,WAASK,IAAT,CAAcC,OAAd,EAAsB;AAEnB,WAAO;AAACC,MAAAA,WAAW,EAACD,OAAO,CAACF,KAArB;AAA2BI,MAAAA,WAAW,EAAC;AAAvC,KAAP;AACF;;AACA,QAAM,CAACC,KAAD,EAAOP,WAAP,IAAoBR,UAAU,CAAC,CAACgB,IAAD,EAAMC,MAAN,KAAe;AAClD,QAAIC,OAAO,GAAC,EAAC,GAAGF;AAAJ,KAAZ;;AAEA,YAAOC,MAAM,CAACR,OAAd;AACG,WAAK,aAAL;AAAmB;AAEjB;AACAS,UAAAA,OAAO,CAACL,WAAR,GAAoB,CAAC,GAAGI,MAAM,CAACP,KAAX,CAApB;AACE,iBAAOQ,OAAP;AACH;;AACD,WAAK,YAAL;AAAkB;AAEb,cAAGA,OAAO,CAACJ,WAAR,CAAoBK,IAApB,CAAyBC,MAA5B,EAAmC;AACjCF,YAAAA,OAAO,CAACG,KAAR,CAAcC,IAAd,CAAmB,EAAC,GAAGJ,OAAO,CAACJ;AAAZ,aAAnB;AACD;;AAEDI,UAAAA,OAAO,CAACJ,WAAR,CAAoBK,IAApB,GAAyB,EAAzB;AACF,iBAAOD,OAAP;AACF;;AACD,WAAK,WAAL;AAAiB;AAChB,cAAIK,KAAK,GAAC,EAAC,GAAGN,MAAM,CAACP;AAAX,WAAV;AACAQ,UAAAA,OAAO,CAACJ,WAAR,GAAoBS,KAApB;AAEE,iBAAOL,OAAP;AACF;;AACD;AAAQ;AACL,gBAAMM,KAAK,CAAC,YAAD,CAAX;AACF;AAxBJ;AA4BA,GA/BkC,EA+BjC;AAACf,IAAAA,OAAO,EAAC,aAAT;AAAuBC,IAAAA,KAAK,EAAC;AAA7B,GA/BiC,EA+BCC,IA/BD,CAApC;;AAgCD,WAASc,gBAAT,CAA0BC,KAA1B,EAAgC;AAC7B;AACA;AACA;AACAC,IAAAA,OAAO,CAAC,YAAD,CAAP;AAED;;AACF,WAASC,mBAAT,CAA6BF,KAA7B,EAAmC,CAClC;AACA;AACA;AACA;;AACD,WAASG,cAAT,CAAwBH,KAAxB,EAA+B,CAC5B;AACA;AACA;AACA;AACA;AAGD;;AACDC,EAAAA,OAAO,CAACG,GAAR,CAAYf,KAAZ;AAEE,sBAEE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAEA,KAAK,CAACF,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF;AAOH;;AAED,eAAeV,GAAf","sourcesContent":["import React, { useEffect, useReducer, useState } from 'react';\nimport ProductList from './ProductList'\n\n\nfunction  App(){\n\nuseEffect(()=>{\n   fetch('http://52.26.193.201:3000/products/list')\n   .then(data=>data.json()).then(data=>sendCommand({command:'initProduct',value:data})); \n},[]);\n  \n function init(cmValue){\n  \n    return {productList:cmValue.value,clickedItem:{}};\n }\n  const [state,sendCommand]=useReducer((prod,toggle)=>{\n    let product={...prod};\n   \n    switch(toggle.command){\n       case 'initProduct':{\n       \n         //todos=product.todos.filter((ele,idx)=>idx!==toggle.value);\n         product.productList=[...toggle.value]\n           return product;\n       }\n       case 'getDetails':{  \n            \n            if(product.clickedItem.name.length){\n              product.todos.push({...product.clickedItem});\n            }\n            \n            product.clickedItem.name='';\n          return product;\n       }\n       case 'viewImage':{\n        let cItem={...toggle.value};\n        product.clickedItem=cItem;\n       \n          return product;\n       }\n       default:{\n          throw Error('no command');\n       }\n     }\n     \n     \n   },{command:'initProduct',value:[]} ,init);\n function handleGetDetails(event){\n    // let value={name:event.target.value};\n    //    // sendCommand set current value   \n    //    sendCommand({command:'getDetails',value:value});\n    console(\"clickyyyyy\")\n      \n  }\n function handleRemoveDetails(event){\n  // let value=parseInt(event.target.value);\n  //    sendCommand({command:'removeItem',value:value});\n  //   //sendCommand() remove item\n }\n function handleGetImage(event) {\n    //  //dispatch() add item\n    //  let value=event.target.name.value;\n    //  sendCommand({command:'viewImage',value:{name:value}});\n    // event.preventDefault();\n    // event.target.name.value='';\n   \n\n  }\n  console.log(state);\n  \n    return (\n     \n      <div className=\"App\">\n        <ProductList items={state.productList}/>\n      </div>\n    );\n  \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}