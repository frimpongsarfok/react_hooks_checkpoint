{"ast":null,"code":"var _jsxFileName = \"/Volumes/System/SDI-8#/REACT/react_pool_checkpoint/src/App.js\";\nimport React, { useEffect, useReducer, useState } from 'react'; //import ToDoList from './ToDoList'\n//import NewToDo from './NewToDo'\n\nfunction App() {\n  useEffect(() => {\n    fetch('http://52.26.193.201:3000/products/list').then(data => state.product = { ...data\n    });\n  }, []);\n\n  function init(cmValue) {\n    return {\n      product: {},\n      clickedItem: {}\n    };\n  }\n\n  const [state, sendCommand] = useReducer((prod, toggle) => {\n    let product = { ...prod\n    };\n\n    switch (toggle.command) {\n      case 'removeItem':\n        {\n          product.todos = product.todos.filter((ele, idx) => idx !== toggle.value);\n          return product;\n        }\n\n      case 'addItem':\n        {\n          console.log(product);\n\n          if (product.clickedItem.name.length) {\n            product.todos.push({ ...product.clickedItem\n            });\n          }\n\n          product.clickedItem.name = '';\n          return product;\n        }\n\n      case 'currentItem':\n        {\n          let cItem = { ...toggle.value\n          };\n          product.clickedItem = cItem;\n          return product;\n        }\n\n      default:\n        {\n          throw Error('no command');\n        }\n    }\n  }, {\n    common: '',\n    value: ''\n  }, init);\n\n  function handleChange(event) {\n    let value = {\n      name: event.target.value\n    }; // sendCommand set current value   \n\n    sendCommand({\n      command: 'currentItem',\n      value: value\n    });\n  }\n\n  function handleRemove(event) {\n    let value = parseInt(event.target.value);\n    sendCommand({\n      command: 'removeItem',\n      value: value\n    }); //sendCommand() remove item\n  }\n\n  function handleSubmit(event) {\n    //dispatch() add item\n    let value = event.target.name.value;\n    sendCommand({\n      command: 'addItem',\n      value: {\n        name: value\n      }\n    });\n    event.preventDefault();\n    event.target.name.value = '';\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  });\n}\n\nexport default App;","map":{"version":3,"sources":["/Volumes/System/SDI-8#/REACT/react_pool_checkpoint/src/App.js"],"names":["React","useEffect","useReducer","useState","App","fetch","then","data","state","product","init","cmValue","clickedItem","sendCommand","prod","toggle","command","todos","filter","ele","idx","value","console","log","name","length","push","cItem","Error","common","handleChange","event","target","handleRemove","parseInt","handleSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer, useState } from 'react';\n//import ToDoList from './ToDoList'\n//import NewToDo from './NewToDo'\n\nfunction  App(){\n\nuseEffect(()=>{\n   fetch('http://52.26.193.201:3000/products/list')\n   .then(data=>state.product={...data});\n},[]);\n  \n function init(cmValue){\n    return {product:{},clickedItem:{}};\n }\n  const [state,sendCommand]=useReducer((prod,toggle)=>{\n    let product={...prod};\n   \n    switch(toggle.command){\n       case 'removeItem':{\n        product.todos=product.todos.filter((ele,idx)=>idx!==toggle.value);\n           return product;\n       }\n       case 'addItem':{  \n            console.log(product)\n            if(product.clickedItem.name.length){\n              product.todos.push({...product.clickedItem});\n            }\n            \n            product.clickedItem.name='';\n          return product;\n       }\n       case 'currentItem':{\n        let cItem={...toggle.value};\n        product.clickedItem=cItem;\n       \n          return product;\n       }\n       default:{\n          throw Error('no command');\n       }\n     }\n     \n     \n   },{common:'',value:''} ,init);\n function handleChange(event){\n    let value={name:event.target.value};\n       // sendCommand set current value   \n       sendCommand({command:'currentItem',value:value});\n      \n  }\n function handleRemove(event){\n  let value=parseInt(event.target.value);\n   sendCommand({command:'removeItem',value:value});\n    //sendCommand() remove item\n }\n function handleSubmit(event) {\n     //dispatch() add item\n     let value=event.target.name.value;\n     sendCommand({command:'addItem',value:{name:value}});\n    event.preventDefault();\n    event.target.name.value='';\n   \n\n  }\n  \n  \n    return (\n     \n      <div className=\"App\">\n      </div>\n    );\n  \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}